# 📋 Stackd

Μια σύγχρονη, **offline-first** εφαρμογή διαχείρισης εργασιών με ελεύθερη τοποθέτηση στηλών και καρτών μέσω drag-and-drop. Κατασκευασμένη με Next.js, Clerk authentication και Supabase για real-time συνεργασία.

![Stackd Logo](public/Stackd.png)

**[English Version](README.md)** | **Ελληνική Έκδοση**

## ✨ Χαρακτηριστικά

### Βασικά Χαρακτηριστικά
- **🔐 Έλεγχος Ταυτότητας Χρήστη**: Ασφαλής σύνδεση με Clerk (Email, Google, GitHub)
- **☁️ Cloud Αποθήκευση**: Όλα τα δεδομένα αποθηκεύονται σε Supabase PostgreSQL βάση δεδομένων
- **📴 Offline-First**: Πλήρης λειτουργικότητα CRUD χωρίς σύνδεση με αυτόματο συγχρονισμό
- **🎯 Ελεύθερη Τοποθέτηση Στηλών**: Σύρετε και τοποθετήστε στήλες οπουδήποτε στον καμβά
- **📝 Drag & Drop Κάρτες**: Μετακινήστε κάρτες μεταξύ στηλών απρόσκοπτα
- **💾 Αυτόματη Αποθήκευση**: Οι αλλαγές αποθηκεύονται αυτόματα 1 δευτερόλεπτο μετά το πληκτρολόγημα

### Χαρακτηριστικά Συνεργασίας
- **👥 Κοινή Χρήση Πινάκων**: Μοιραστείτε πίνακες με δικαιώματα βασισμένα σε ρόλους (Ιδιοκτήτης, Διαχειριστής, Επεξεργαστής, Θεατής)
- **💬 Σχόλια σε Κάρτες**: Προσθέστε σχόλια με avatars χρηστών και χρονοσήμανση
- **🔄 Real-time Συγχρονισμός**: Συγχρονισμός βασισμένος σε polling που ενημερώνεται κάθε 3 δευτερόλεπτα
- **📊 Analytics Dashboard**: Παρακολούθηση μετρικών πίνακα, καθυστερημένων καρτών και απόδοσης ομάδας

### Προηγμένα Χαρακτηριστικά
- **📅 Ημερομηνίες Λήξης**: Ορίστε προθεσμίες με παρακολούθηση καθυστερήσεων και badges
- **🏷️ Ετικέτες**: Κατηγοριοποιήστε κάρτες με 8 προκαθορισμένες ετικέτες (Επείγον, Υψηλή Προτεραιότητα, Bug, κ.λπ.)
- **🖼️ Εικόνες σε Κάρτες**: Προσθέστε εικόνες σε κάρτες μέσω URL
- **📱 Υποστήριξη PWA**: Εγκατάσταση ως native εφαρμογή σε desktop και κινητά
- **⚡ Βελτιστοποιημένη Απόδοση**: Κατασκευασμένο με React.memo, useCallback για ομαλές αλληλεπιδράσεις

### Τεχνικά Χαρακτηριστικά
- **🎨 Σύγχρονο UI**: Καθαρή, σκούρα διεπαφή με ομαλές μεταβάσεις
- **📱 Responsive Σχεδιασμός**: Λειτουργεί άψογα σε desktop και κινητές συσκευές
- **🔒 Row Level Security**: Το Supabase RLS εξασφαλίζει ιδιωτικότητα και ασφάλεια δεδομένων
- **💾 IndexedDB Αποθήκευση**: Τοπική διατήρηση δεδομένων για offline δυνατότητες
- **🔄 Έξυπνη Ουρά Συγχρονισμού**: Αυτόματη λογική επανάληψης για αποτυχημένες λειτουργίες

## 🚀 Ξεκινώντας

### Προαπαιτούμενα

- Node.js 18+
- npm, yarn, pnpm, ή bun
- Λογαριασμός Clerk ([clerk.com](https://clerk.com))
- Λογαριασμός Supabase ([supabase.com](https://supabase.com))

### Εγκατάσταση

1. Κλωνοποιήστε το repository:
```bash
git clone https://github.com/Contzokas/stackd.git
cd stackd
```

2. Εγκαταστήστε τις εξαρτήσεις:
```bash
npm install
```

3. Ρυθμίστε τις μεταβλητές περιβάλλοντος:

Δημιουργήστε ένα αρχείο `.env.local` στον ριζικό κατάλογο:

```env
# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key
CLERK_SECRET_KEY=your_clerk_secret_key
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
```

4. Ρυθμίστε τη βάση δεδομένων Supabase:

Εκτελέστε το **`COMPLETE_DATABASE_UPDATE.sql`** στον Supabase SQL Editor:
```sql
# Το αρχείο δημιουργεί:
# - boards (με RLS policies και δικαιώματα ρόλων)
# - columns (με θέσεις x, y)
# - cards (με ετικέτες, ημερομηνίες λήξης, εικόνες)
# - comments (με πληροφορίες χρηστών)
# - board_members (με ρόλους: owner, admin, editor, viewer)
# - analytics (παρακολούθηση μετρικών και απόδοσης)
```

5. Εκτελέστε τον development server:
```bash
npm run dev
```

6. Ανοίξτε το [http://localhost:3000](http://localhost:3000) στον browser σας

## 🏗️ Δομή Project

```
stackd/
├── app/
│   ├── api/
│   │   ├── boards/          # Λειτουργίες CRUD πινάκων
│   │   ├── cards/           # Λειτουργίες CRUD καρτών
│   │   ├── columns/         # Λειτουργίες CRUD στηλών
│   │   ├── comments/        # Λειτουργίες CRUD σχολίων
│   │   ├── analytics/       # Μετρικές και απόδοση πινάκων
│   │   └── users/           # Αναζήτηση χρηστών
│   ├── sign-in/             # Σελίδα σύνδεσης Clerk
│   ├── sign-up/             # Σελίδα εγγραφής Clerk
│   ├── layout.js            # Root layout με authentication
│   ├── page.js              # Κύρια σελίδα με board manager
│   └── globals.css          # Global styles
├── components/
│   ├── Board_Original.jsx   # Κύριο component πίνακα
│   ├── MultiBoardManager.jsx # Διαχείριση πολλαπλών πινάκων
│   ├── CloudBoardManager.jsx # Cloud & offline sync manager
│   ├── AnalyticsDashboard.jsx # Dashboard μετρικών
│   ├── ShareBoardModal.jsx  # Κοινή χρήση με διαχείριση ρόλων
│   ├── FreeFormColumn.jsx   # Component στήλης με δυνατότητα μετακίνησης
│   ├── Column.jsx           # Component βασικής στήλης
│   ├── Card.jsx             # Component μεμονωμένης κάρτας
│   ├── CardModal.jsx        # Modal λεπτομερειών κάρτας με σχόλια
│   ├── OfflineIndicator.jsx # Ένδειξη κατάστασης συγχρονισμού
│   └── Footer.jsx           # Component footer
├── hooks/
│   ├── useDragAndDrop.js        # Hook για drag & drop καρτών
│   ├── useColumnDragAndDrop.js  # Hook για αναδιάταξη στηλών
│   ├── useFreeFormDrag.js       # Hook για ελεύθερη τοποθέτηση
│   ├── useOfflineBoard.js       # Offline διαχείριση πινάκων
│   ├── useOfflineCards.js       # Offline CRUD καρτών
│   └── useOfflineColumns.js     # Offline CRUD στηλών
├── lib/
│   ├── supabase.js          # Διαμόρφωση Supabase client
│   ├── db.js                # Dexie.js IndexedDB schema
│   └── syncManager.js       # Offline sync queue manager
└── public/
    ├── Stackd.png           # Logo και assets
    ├── manifest.json        # PWA manifest
    └── sw.js                # Service worker
```

## 🎮 Χρήση

### Ξεκινώντας
1. **Εγγραφή/Σύνδεση**: Δημιουργήστε λογαριασμό ή συνδεθείτε με email, Google ή GitHub
2. **Δημιουργία Πίνακα**: Κάντε κλικ στο "Create New Board" για να ξεκινήσετε τον πρώτο σας πίνακα
3. **Προσθήκη Στηλών**: Κάντε κλικ στο "+ Add Column" για να δημιουργήσετε κατηγορίες εργασιών
4. **Προσθήκη Καρτών**: Κάντε κλικ στο "+ Add card" σε οποιαδήποτε στήλη για να δημιουργήσετε εργασίες

### Διαχείριση Στηλών
- **Μετακίνηση Στηλών**: Κάντε κλικ και σύρετε οποιαδήποτε κεφαλίδα στήλης για να την τοποθετήσετε οπουδήποτε στον πίνακα
- **Μετονομασία Στήλης**: Κάντε διπλό κλικ στον τίτλο της στήλης για inline επεξεργασία
- **Διαγραφή Στήλης**: Κάντε κλικ στο κουμπί ✕ στην κεφαλίδα της στήλης (διαγράφει όλες τις κάρτες μέσα)

### Διαχείριση Καρτών
- **Προσθήκη Κάρτας**: Κάντε κλικ στο κουμπί "+ Add card" σε οποιαδήποτε στήλη
- **Επεξεργασία Κάρτας**: Κάντε κλικ σε μια κάρτα για να ανοίξετε το modal λεπτομερειών
- **Ετικέτες**: Επιλέξτε από 8 προκαθορισμένες ετικέτες (Επείγον, Υψηλή Προτεραιότητα, Bug, κ.λπ.)
- **Ημερομηνίες Λήξης**: Ορίστε προθεσμίες με αυτόματη παρακολούθηση καθυστερήσεων
- **Εικόνες**: Προσθέστε εικόνες μέσω URL για οπτικό περιεχόμενο
- **Αυτόματη Αποθήκευση**: Οι αλλαγές στην κάρτα αποθηκεύονται αυτόματα 1 δευτερόλεπτο μετά το πληκτρολόγημα
- **Χειροκίνητη Αποθήκευση**: Κάντε κλικ στο κουμπί "Save" για άμεση αποθήκευση
- **Μετακίνηση Κάρτας**: Σύρετε μια κάρτα και αφήστε την σε διαφορετική στήλη
- **Διαγραφή Κάρτας**: Κάντε κλικ στο εικονίδιο κάδου στο modal της κάρτας

### Σχόλια
- **Προσθήκη Σχολίου**: Πληκτρολογήστε στο πλαίσιο σχολίων στο κάτω μέρος του modal της κάρτας
- **Προβολή Σχολίων**: Όλα τα σχόλια εμφανίζονται με avatars χρηστών και χρονοσήμανση
- **Επεξεργασία Σχολίου**: Κάντε κλικ στο εικονίδιο επεξεργασίας στα δικά σας σχόλια
- **Διαγραφή Σχολίου**: Κάντε κλικ στο εικονίδιο κάδου στα δικά σας σχόλια

### Κοινή Χρήση Πινάκων
- **Κοινή Χρήση Πίνακα**: Κάντε κλικ στο εικονίδιο κοινής χρήσης, εισάγετε email addresses χρηστών
- **Ρόλοι Μελών**:
  - **Ιδιοκτήτης** (Owner): Πλήρης έλεγχος, διαχείριση μελών, διαγραφή πίνακα
  - **Διαχειριστής** (Admin): Προσθήκη/αφαίρεση μελών, επεξεργασία όλων των καρτών
  - **Επεξεργαστής** (Editor): Δημιουργία και επεξεργασία καρτών/στηλών
  - **Θεατής** (Viewer): Μόνο προβολή, χωρίς επεξεργασία
- **Συνεργάτες**: Όλα τα μέλη του πίνακα μπορούν να συνεργάζονται σε real-time
- **Προβολή Μελών**: Δείτε όλα τα τρέχοντα μέλη και τους ρόλους τους στο modal κοινής χρήσης

### Analytics Dashboard
Παρακολουθήστε την απόδοση του πίνακά σας:
- **Σύνολο Καρτών**: Δείτε πόσες κάρτες έχετε ενεργές
- **Καρτές ανά Στήλη**: Κατανόηση της κατανομής φορτίου εργασίας
- **Καθυστερημένες Κάρτες**: Εντοπίστε άμεσα προθεσμίες που έχουν παρέλθει
- **Δραστηριότητα Μελών**: Δείτε ποιος συνεισφέρει περισσότερο
- **Διανομή Ετικετών**: Αναλύστε τους τύπους εργασιών
- **Τάσεις Ολοκλήρωσης**: Παρακολουθήστε την πρόοδο με την πάροδο του χρόνου

### Offline Mode (Λειτουργία Χωρίς Σύνδεση)
Το Stackd δουλεύει απρόσκοπτα χωρίς internet:
1. **Δημιουργήστε/Επεξεργαστείτε**: Δημιουργήστε πίνακες, στήλες και κάρτες offline
2. **Τοπική Αποθήκευση**: Όλα τα δεδομένα αποθηκεύονται στον browser σας (IndexedDB)
3. **Ουρά Συγχρονισμού**: Οι αλλαγές αποθηκεύονται και συγχρονίζονται αυτόματα όταν επιστρέψει η σύνδεση
4. **Ένδειξη Κατάστασης**: Δείτε την κατάσταση συγχρονισμού στην πάνω δεξιά γωνία
5. **Αυτόματη Επανασύνδεση**: Το Stackd συγχρονίζει αυτόματα όταν εντοπίσει σύνδεση

### Εγκατάσταση PWA
Εγκαταστήστε το Stackd ως εφαρμογή στο:
- **Desktop**: Κάντε κλικ στο εικονίδιο εγκατάστασης στη γραμμή διευθύνσεων του browser
- **Κινητό**: Χρησιμοποιήστε το μενού "Προσθήκη στην αρχική οθόνη"
- **Πλεονεκτήματα**: Λειτουργεί σαν native εφαρμογή, offline πρόσβαση, γρηγορότερη φόρτωση

## 🛠️ Τεχνολογίες

- **Framework**: [Next.js 16.0.0](https://nextjs.org/) με App Router
- **Authentication**: [Clerk](https://clerk.com/) - Διαχείριση και έλεγχος ταυτότητας χρηστών
- **Database**: [Supabase](https://supabase.com/) - PostgreSQL με Row Level Security
- **Offline Storage**: [Dexie.js](https://dexie.org/) - IndexedDB wrapper για τοπική διατήρηση
- **PWA**: [@ducanh2912/next-pwa](https://github.com/DuCanhGH/next-pwa) - Progressive Web App support
- **Styling**: [Tailwind CSS](https://tailwindcss.com/)
- **Γλώσσα**: JavaScript (ES6+)
- **Απόδοση**: React.memo, useCallback, βελτιστοποιημένα re-renders
- **API**: RESTful API routes με Next.js App Router

## 🎨 Βασικά Χαρακτηριστικά - Επεξήγηση

### Offline-First Αρχιτεκτονική
Το Stackd είναι σχεδιασμένο για να λειτουργεί **πρώτα** offline:
- **IndexedDB Storage**: Όλα τα δεδομένα πινάκων αποθηκεύονται τοπικά με Dexie.js
- **Ουρά Συγχρονισμού**: Οι offline λειτουργίες αποθηκεύονται και εκτελούνται αυτόματα όταν επιστρέψει η σύνδεση
- **Optimistic UI Updates**: Οι αλλαγές εμφανίζονται αμέσως, χωρίς αναμονή για επιβεβαίωση server
- **Αυτόματη Επανασύνδεση**: Έξυπνη λογική επανάληψης για αποτυχημένες λειτουργίες
- **CRUD Χωρίς Σύνδεση**: Δημιουργία, ανάγνωση, ενημέρωση και διαγραφή πινάκων/στηλών/καρτών χωρίς internet
- **Ένδειξη Κατάστασης**: Οπτική ανατροφοδότηση για κατάσταση συγχρονισμού

### Δικαιώματα Βασισμένα σε Ρόλους
Ο κάθε πίνακας υποστηρίζει 4 επίπεδα δικαιωμάτων:
- **Ιδιοκτήτης (Owner)**: Πλήρης έλεγχος, διαχείριση μελών, διαγραφή πίνακα
- **Διαχειριστής (Admin)**: Προσθήκη/αφαίρεση μελών, επεξεργασία ρυθμίσεων πίνακα
- **Επεξεργαστής (Editor)**: Δημιουργία και επεξεργασία καρτών, στηλών, σχολίων
- **Θεατής (Viewer)**: Μόνο προβολή, χωρίς δυνατότητα επεξεργασίας

### Analytics & Tracking
Παρακολουθήστε την απόδοση του πίνακα με 6 βασικές μετρικές:
- **Σύνολο Καρτών**: Πόσες κάρτες υπάρχουν στον πίνακα
- **Καρτές ανά Στήλη**: Κατανομή καρτών σε κάθε στήλη
- **Καθυστερημένες Κάρτες**: Κάρτες με παρελθούσες προθεσμίες
- **Ολοκληρωμένες Κάρτες**: Παρακολούθηση προόδου (βασισμένο σε στήλες "Done")
- **Δραστηριότητα Μελών**: Ποιος δημιουργεί περισσότερες κάρτες
- **Διανομή Ετικετών**: Ανάλυση τύπων εργασιών

### Ελεύθερη Μετακίνηση
Σε αντίθεση με τους παραδοσιακούς πίνακες Kanban, το Stackd σας επιτρέπει να τοποθετήσετε στήλες οπουδήποτε στον καμβά, δίνοντάς σας πλήρη έλεγχο της διάταξης του χώρου εργασίας σας.

### Σύστημα Αυτόματης Αποθήκευσης
- **Debounced Auto-Save**: Οι αλλαγές αποθηκεύονται αυτόματα 1 δευτερόλεπτο μετά το τέλος της πληκτρολόγησης
- **Έξυπνος Συγχρονισμός**: Το modal επαναφέρει την κατάσταση μόνο όταν αλλάζετε σε διαφορετική κάρτα
- **Optimistic Updates**: Το UI ενημερώνεται αμέσως ενώ η αποθήκευση γίνεται στο παρασκήνιο
- **Database-First**: Εμφανίζει πάντα τα πιο πρόσφατα δεδομένα από τη βάση δεδομένων

### Real-time Συγχρονισμός
- **Polling-Based Updates**: Η κατάσταση του πίνακα ανανεώνεται κάθε 3 δευτερόλεπτα
- **Συνεργασία Πολλαπλών Χρηστών**: Οι αλλαγές που γίνονται από οποιονδήποτε χρήστη συγχρονίζονται σε όλους τους θεατές εντός 3 δευτερολέπτων
- **Αυτόματη Επίλυση Συγκρούσεων**: Η τελευταία κατάσταση της βάσης δεδομένων κερδίζει πάντα
- **Οπτικός Δείκτης Συγχρονισμού**: Δείχνει όταν ο συγχρονισμός είναι σε εξέλιξη
- **Αξιόπιστο & Απλό**: Χωρίς πολυπλοκότητα WebSocket, λειτουργεί σε όλα τα δίκτυα

### Βελτιστοποίηση Απόδοσης
- **React.memo**: Αποτρέπει περιττά re-renders στηλών και καρτών
- **Smart Memoization**: Τα components κάνουν re-render μόνο όταν τα πραγματικά δεδομένα τους αλλάζουν
- **useCallback**: Αποθηκεύει event handlers για να αποφύγει την επαναδημιουργία
- **Service Role Client**: Τα API routes παρακάμπτουν το RLS για συνεπή πρόσβαση στη βάση δεδομένων
- **PWA Caching**: Στατικά αρχεία αποθηκεύονται για άμεση φόρτωση

### Ασφάλεια
- **Clerk Authentication**: Ασφαλής, production-ready έλεγχος ταυτότητας χρηστών
- **Row Level Security**: Οι πολιτικές Supabase RLS διασφαλίζουν ότι οι χρήστες βλέπουν μόνο τους δικούς τους πίνακες
- **Service Role Key**: Τα API routes χρησιμοποιούν αυξημένα δικαιώματα για συνεπή πρόσβαση
- **Protected Routes**: Όλα τα API endpoints ελέγχουν τον έλεγχο ταυτότητας χρήστη
- **Ασφαλή Δεδομένα Offline**: Τα δεδομένα IndexedDB είναι απομονωμένα ανά χρήστη

## 🌟 Τι Κάνει το Stackd Ξεχωριστό;

### Σε Σύγκριση με το Trello
✅ **Πλήρης Offline Υποστήριξη** - Το Trello απαιτεί internet  
✅ **Free-form Διάταξη Στηλών** - Το Trello έχει σταθερή διάταξη  
✅ **Ενσωματωμένα Analytics** - Το Trello απαιτεί Power-Ups  
✅ **Open Source** - Το Trello είναι ιδιοκτησιακό  
✅ **Self-Hostable** - Το Trello είναι μόνο cloud  

### Σε Σύγκριση με το Notion
✅ **Πιο Γρήγορο & Απλό** - Το Notion είναι πολύπλοκο  
✅ **Πραγματικό Offline-First** - Το offline του Notion είναι περιορισμένο  
✅ **Εξειδικευμένο για Εργασίες** - Το Notion είναι γενικής χρήσης  
✅ **Άμεσες Ενημερώσεις UI** - Το Notion μπορεί να είναι αργό  
✅ **Εστίαση στην Απλότητα** - Το Notion έχει steep learning curve  

## 📚 Πρόσθετη Τεκμηρίωση

### Οδηγοί Χρήσης
- **[README.md](README.md)**: Αγγλική έκδοση αυτού του README
- **[SETUP_GUIDE.md](SETUP_GUIDE.md)**: Λεπτομερείς οδηγίες εγκατάστασης για Clerk και Supabase
- **[QUICK_START.md](QUICK_START.md)**: Γρήγορη αναφορά για να ξεκινήσετε
- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)**: Συνήθη προβλήματα και λύσεις

### Offline & Analytics
- **[OFFLINE_GUIDE.md](OFFLINE_GUIDE.md)**: Πλήρης οδηγός για offline λειτουργικότητα
- **[OFFLINE_TESTING.md](OFFLINE_TESTING.md)**: Πώς να δοκιμάσετε offline δυνατότητες
- **[ANALYTICS_QUICK_START.md](ANALYTICS_QUICK_START.md)**: Χρήση του Analytics Dashboard

### Βάση Δεδομένων
- **[COMPLETE_DATABASE_UPDATE.sql](COMPLETE_DATABASE_UPDATE.sql)**: Πλήρες SQL schema για Supabase

## 🤝 Συνεισφορά

Οι συνεισφορές είναι ευπρόσδεκτες! Μη διστάσετε να:

1. Κάνετε Fork το repository
2. Δημιουργήστε ένα feature branch (`git checkout -b feature/ΑπίθανοΧαρακτηριστικό`)
3. Κάντε Commit τις αλλαγές σας (`git commit -m 'Προσθήκη Απίθανου Χαρακτηριστικού'`)
4. Κάντε Push στο branch (`git push origin feature/ΑπίθανοΧαρακτηριστικό`)
5. Ανοίξτε ένα Pull Request

## 📝 Άδεια

Αυτό το project είναι open source και διαθέσιμο υπό την [MIT License](LICENSE).

## 👤 Δημιουργός

**Κωνσταντίνος Τζόκας**

- Twitter: [@Tziogadoros](https://x.com/Tziogadoros)
- GitHub: [@Contzokas](https://github.com/Contzokas)

## 🙏 Ευχαριστίες

- Κατασκευασμένο με [Next.js](https://nextjs.org/)
- Έλεγχος ταυτότητας από [Clerk](https://clerk.com/)
- Βάση δεδομένων από [Supabase](https://supabase.com/)
- Offline αποθήκευση με [Dexie.js](https://dexie.org/)
- Υποστήριξη PWA: [@ducanh2912/next-pwa](https://github.com/DuCanhGH/next-pwa)
- Styling με [Tailwind CSS](https://tailwindcss.com/)
- Font: [Geist](https://vercel.com/font)

---

⭐ Αν σας αρέσει αυτό το project, δώστε του ένα star στο GitHub!

---

⭐ Κάντε Star αυτό το repo αν το βρίσκετε χρήσιμο!
